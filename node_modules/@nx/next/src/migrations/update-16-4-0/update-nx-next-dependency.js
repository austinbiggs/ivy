"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const devkit_1 = require("@nx/devkit");
async function update(tree) {
    if (tree.exists('./package.json')) {
        (0, devkit_1.updateJson)(tree, 'package.json', (packageJson) => {
            if (packageJson.dependencies['@nx/next']) {
                packageJson.devDependencies['@nx/next'] =
                    packageJson.dependencies['@nx/next'];
                delete packageJson.dependencies['@nx/next'];
            }
            return packageJson;
        });
    }
    await (0, devkit_1.formatFiles)(tree);
}
exports.default = update;
